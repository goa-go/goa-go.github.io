(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{279:function(t,a,s){"use strict";s.r(a);var n=s(22),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ä¸­é—´ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­é—´ä»¶","aria-hidden":"true"}},[t._v("#")]),t._v(" ä¸­é—´ä»¶")]),t._v(" "),s("h2",{attrs:{id:"æ¦‚å¿µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚å¿µ","aria-hidden":"true"}},[t._v("#")]),t._v(" æ¦‚å¿µ")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("ğŸ”–")]),t._v(" "),s("p",[t._v("Goaçš„ä¸­é—´ä»¶æ˜¯æŒ‡è´¯ç©¿æ•´ä¸ª Goa åç«¯åº”ç”¨ç¨‹åºï¼Œå¹¶å…±äº«ä¸Šä¸‹æ–‡çš„ç‹¬ç«‹æ’ä»¶ã€‚")])]),t._v(" "),s("p",[t._v("åº”å½“æ¸…æ¥šçš„æ˜¯ Goa çš„æ‰€æœ‰åŠŸèƒ½éƒ½æ˜¯é€šè¿‡ä¸­é—´ä»¶æ¥å®ç°çš„ï¼Œå¦‚æœä½ çš„åº”ç”¨ç¨‹åºæ²¡æœ‰ç»‘å®šä»»ä½•ä¸­é—´ä»¶ï¼Œé‚£ä¹ˆä½ çš„åº”ç”¨ç¨‹åºæ˜¯æ²¡æœ‰ä»»ä½•ä½œç”¨çš„ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å›¾è§£ä¸­é—´ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å›¾è§£ä¸­é—´ä»¶","aria-hidden":"true"}},[t._v("#")]),t._v(" å›¾è§£ä¸­é—´ä»¶")]),t._v(" "),s("p",[s("img",{attrs:{src:"/middleware.png",alt:"middleware"}})]),t._v(" "),s("p",[t._v("å¯ä»¥çœ‹åˆ°goaçš„ä¸­é—´ä»¶æ˜¯ç±»ä¼¼å †æ ˆçš„å½¢å¼æ‰§è¡Œçš„ï¼Œå¦å¤–å€¼å¾—ä¸€æçš„æ˜¯ï¼Œgoaçš„å“åº”å¤„ç†æ˜¯åœ¨æ‰€æœ‰ä¸­é—´ä»¶æ‰§è¡Œå®Œä¹‹åç»Ÿä¸€å¤„ç†çš„ã€‚")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("goa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Pritln")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("goa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Pritln")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("goa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Pritln")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“åœ¨æœ€åä¸€ä¸ªä¸­é—´ä»¶æ—¶ï¼Œè¿™ä¸æ˜¯å¿…é¡»çš„ã€‚")]),t._v("\n  fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("ä»¥ä¸Šç¨‹åºå°†ä¼šä¾æ¬¡è¾“å‡º1ã€2ã€3ã€4ã€5ã€6ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ç¤ºä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¤ºä¾‹","aria-hidden":"true"}},[t._v("#")]),t._v(" ç¤ºä¾‹")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GET")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("goa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello World"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("New")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jwt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("New")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Routes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("è¿™é‡Œä½¿ç”¨äº†æ—¥å¿—ã€jwtã€è·¯ç”±ä¸‰ä¸ªä¸­é—´ä»¶ã€‚")]),t._v(" "),s("p",[t._v("ä¸Šä¸‹æ–‡Contextå°†ä¾æ¬¡ç»è¿‡logger -> jwt -> router -> jwt -> loggerã€‚")]),t._v(" "),s("h2",{attrs:{id:"å¼€å‘ä¸­é—´ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å‘ä¸­é—´ä»¶","aria-hidden":"true"}},[t._v("#")]),t._v(" å¼€å‘ä¸­é—´ä»¶")]),t._v(" "),s("p",[t._v("å¼€å‘ä¸­é—´ä»¶æˆ‘ä»¬ç»™å‡ºä»¥ä¸‹æ¨èåšæ³•ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Config "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("New")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" goa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Middleware "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤„ç†å‚æ•°æˆ–è€…åˆå§‹åŒ–")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("Context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("XXX"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("New")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("æˆ‘ä»¬å»ºè®®ä½¿ç”¨è¿™ç§é—­åŒ…çš„åšæ³•æ¥æé«˜æ€§èƒ½ï¼Œå½“ç„¶å‚æ•°ä¸æ˜¯å¿…é¡»çš„ï¼Œå®é™…çš„å¼€å‘åº”å½“ç»“åˆå®é™…æƒ…å†µï¼Œä¸å¼ºåˆ¶ä½¿ç”¨è¿™ä¸€ç§å¼€å‘æ¨¡å¼ã€‚")]),t._v(" "),s("h2",{attrs:{id:"awesome"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#awesome","aria-hidden":"true"}},[t._v("#")]),t._v(" AWESOME")]),t._v(" "),s("h3",{attrs:{id:"å®˜æ–¹ä¸­é—´ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®˜æ–¹ä¸­é—´ä»¶","aria-hidden":"true"}},[t._v("#")]),t._v(" å®˜æ–¹ä¸­é—´ä»¶")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/goa-go/router",target:"_blank",rel:"noopener noreferrer"}},[t._v("router"),s("OutboundLink")],1),t._v(": åŸºäºhttprouterçš„goaè·¯ç”±ä¸­é—´ä»¶ã€‚")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/goa-go/logger",target:"_blank",rel:"noopener noreferrer"}},[t._v("logger"),s("OutboundLink")],1),t._v(": ç®€æ˜“çš„æ—¥å¿—ä¸­é—´ä»¶ã€‚")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/goa-go/jwt",target:"_blank",rel:"noopener noreferrer"}},[t._v("jwt"),s("OutboundLink")],1),t._v(": jsonwebtokené‰´æƒä¸­é—´ä»¶ã€‚")])])])},[],!1,null,null,null);a.default=e.exports}}]);