<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä¸Šä¸‹æ–‡(Context) | Goa</title>
    <meta name="description" content="åŸºäºä¸­é—´ä»¶çš„è½»é‡çº§golang webæ¡†æ¶">
    
    
    <link rel="preload" href="/assets/css/0.styles.bb8aa38e.css" as="style"><link rel="preload" href="/assets/js/app.40856b5d.js" as="script"><link rel="preload" href="/assets/js/2.8674f6f0.js" as="script"><link rel="preload" href="/assets/js/13.26677b85.js" as="script"><link rel="prefetch" href="/assets/js/10.2455997f.js"><link rel="prefetch" href="/assets/js/11.d8d276b2.js"><link rel="prefetch" href="/assets/js/12.85c017ed.js"><link rel="prefetch" href="/assets/js/14.0237adbb.js"><link rel="prefetch" href="/assets/js/15.bc0f91d3.js"><link rel="prefetch" href="/assets/js/16.c16eeafe.js"><link rel="prefetch" href="/assets/js/17.3d40b24e.js"><link rel="prefetch" href="/assets/js/3.0d2f20d0.js"><link rel="prefetch" href="/assets/js/4.be9aced9.js"><link rel="prefetch" href="/assets/js/5.2be1bcaf.js"><link rel="prefetch" href="/assets/js/6.9de9f34f.js"><link rel="prefetch" href="/assets/js/7.bbb53069.js"><link rel="prefetch" href="/assets/js/8.26295da6.js"><link rel="prefetch" href="/assets/js/9.b5ac57cd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bb8aa38e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh/" class="home-link router-link-active"><!----> <span class="site-name">Goa</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/goa-go/goa/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">é€‰æ‹©è¯­è¨€</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/context.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/zh/docs/context.html" class="nav-link router-link-exact-active router-link-active">ç®€ä½“ä¸­æ–‡</a></li></ul></div></div> <a href="https://github.com/goa-go/goa" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/goa-go/goa/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">é€‰æ‹©è¯­è¨€</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/context.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/zh/docs/context.html" class="nav-link router-link-exact-active router-link-active">ç®€ä½“ä¸­æ–‡</a></li></ul></div></div> <a href="https://github.com/goa-go/goa" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/zh/docs/" class="sidebar-link">ä»‹ç»</a></li><li><a href="/zh/docs/getting-started.html" class="sidebar-link">å¿«é€Ÿä¸Šæ‰‹</a></li><li><a href="/zh/docs/goa.html" class="sidebar-link">åº”ç”¨ç¨‹åº(Goa)</a></li><li><a href="/zh/docs/context.html" class="active sidebar-link">ä¸Šä¸‹æ–‡(Context)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/docs/context.html#field" class="sidebar-link">Field</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#next" class="sidebar-link">Next</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#set" class="sidebar-link">Set</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#get" class="sidebar-link">Get</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#query" class="sidebar-link">Query</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#getquery" class="sidebar-link">GetQuery</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#getqueryarray" class="sidebar-link">GetQueryArray</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#postform" class="sidebar-link">PostForm</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#param" class="sidebar-link">Param</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#parsejson" class="sidebar-link">ParseJSON</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#parsexml" class="sidebar-link">ParseXML</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#parsestring" class="sidebar-link">ParseString</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#parsequery" class="sidebar-link">ParseQuery</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#parseform" class="sidebar-link">ParseForm</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#status" class="sidebar-link">Status</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#getstatus" class="sidebar-link">GetStatus</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#json" class="sidebar-link">JSON</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#xml" class="sidebar-link">XML</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#html" class="sidebar-link">HTML</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#redirect" class="sidebar-link">Redirect</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#setheader" class="sidebar-link">SetHeader</a></li><li class="sidebar-sub-header"><a href="/zh/docs/context.html#error" class="sidebar-link">Error</a></li></ul></li><li><a href="/zh/docs/middleware.html" class="sidebar-link">ä¸­é—´ä»¶</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ä¸Šä¸‹æ–‡-context"><a href="#ä¸Šä¸‹æ–‡-context" aria-hidden="true" class="header-anchor">#</a> ä¸Šä¸‹æ–‡(Context)</h1> <div class="tip custom-block"><p class="custom-block-title">ğŸ”–</p> <p>Contextå°†net/httpçš„<code>*Request</code>å’Œ<code>ResponseWriter</code>å¯¹è±¡åŠå…¶å¯¹åº”çš„æ–¹æ³•å°è£…åˆ°å•ä¸ªå¯¹è±¡ä¸­ï¼Œæ–¹ä¾¿è°ƒç”¨å¤„ç†è¯·æ±‚å’Œå“åº”çš„æ–¹æ³•ã€‚</p></div> <h2 id="field"><a href="#field" aria-hidden="true" class="header-anchor">#</a> Field</h2> <table><thead><tr><th>åå­—</th> <th>ç±»å‹</th> <th>æè¿°</th></tr></thead> <tbody><tr><td>Request</td> <td>*http.Request</td> <td>åŸç”Ÿnet/httpçš„ *Requestå¯¹è±¡</td></tr> <tr><td>ResponseWriter</td> <td>http.ResponseWriter</td> <td>åŸç”Ÿnet/httpçš„ResponseWriterå¯¹è±¡</td></tr> <tr><td>Method</td> <td>string</td> <td>httpè¯·æ±‚æ–¹å¼</td></tr> <tr><td>URL</td> <td>*url.URL</td> <td>httpè¯·æ±‚çš„URLå¯¹è±¡</td></tr> <tr><td>Path</td> <td>string</td> <td>httpè¯·æ±‚çš„è·¯å¾„</td></tr> <tr><td>Header</td> <td>http.Header</td> <td>httpè¯·æ±‚å¤´éƒ¨</td></tr> <tr><td>Keys</td> <td>map[string]interface{}</td> <td>ä¸»è¦ç”¨äºä¸­é—´ä»¶ä¹‹é—´æ•°æ®ä¼ é€’ï¼Œé€šè¿‡<a href="#get">Get</a>ã€<a href="#set">Set</a>æ–¹æ³•ä½¿ç”¨</td></tr> <tr><td>Handled</td> <td>bool</td> <td>æ˜¯å¦ç»•è¿‡goaçš„å“åº”å¤„ç†</td></tr></tbody></table> <h2 id="next"><a href="#next" aria-hidden="true" class="header-anchor">#</a> Next</h2> <p><code>Next()</code> ç”¨äºè°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚</p> <p>ä¸åŒäºkoajsï¼ŒNextæ–¹æ³•å†™åœ¨äº†Contextå¯¹è±¡ä¸­ï¼Œkoajsçš„next()å®é™…ä¸Šæ˜¯dispatch(i + 1)ï¼Œæˆ‘ä»¬è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥èŠ‚çœdispatchå‡½æ•°ä¼ é€’å¸¦æ¥çš„å†…å­˜å ç”¨ï¼Œæ›´åŠ é«˜æ•ˆçš„åŒæ—¶ä¹Ÿå¯ä»¥è®©ä»£ç æ›´åŠ ç®€æ´ã€‚</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// next() è¿™ç§æ–¹æ³•åœ¨v0.4.0ç§»é™¤</span>
app<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>goa<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> next <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do sth</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// do sth</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// c.Next()</span>
app<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>goa<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do sth</span>
  c<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// do sth</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å½“åº”ç”¨ç¨‹åºä¸­ç»‘å®šäº†å¤šä¸ªä¸­é—´ä»¶ï¼Œé™¤äº†æœ€åä¸€ä¸ªä¸­é—´ä»¶ï¼Œ<code>c.Next()</code>æ˜¯å¿…é¡»è°ƒç”¨çš„ï¼Œå¦åˆ™goaåªä¼šæ‰§è¡Œç¬¬ä¸€ä¸ªä¸­é—´ä»¶ã€‚</p> <div class="language-go extra-class"><pre class="language-go"><code>app<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>goa<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>goa<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>goa<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token comment">//c.Next() æ­¤å¤„å¯ä»¥çœç•¥c.Next()</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">æç¤º</p> <p>å¦‚æœè¿™æ˜¯ä½ ç¬¬ä¸€æ¬¡æ¥è§¦ä¸­é—´ä»¶ï¼ŒæŸ¥çœ‹æ›´å¤šå…³äº<a href="/zh/docs/middleware.html">ä¸­é—´ä»¶</a>ã€‚</p></div> <h2 id="set"><a href="#set" aria-hidden="true" class="header-anchor">#</a> Set</h2> <p><code>Set(key string, value interface{})</code> è®¾å®šKeysã€‚</p> <h2 id="get"><a href="#get" aria-hidden="true" class="header-anchor">#</a> Get</h2> <p><code>Get(key string) (value interface{}, exists bool)</code> è·å–æŒ‡å®šKeysã€‚</p> <div class="language-go extra-class"><pre class="language-go"><code>c<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span>
value <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="query"><a href="#query" aria-hidden="true" class="header-anchor">#</a> Query</h2> <p><code>Query(key string) (value string)</code> è·å–queryæŒ‡å®škeyçš„valueï¼Œè‹¥keyä¸å­˜åœ¨åˆ™è¿”å›&quot;&quot;ã€‚</p> <p>è‹¥Queryå¤æ‚æˆ–éœ€è¦ç±»å‹è½¬æ¢ï¼Œæ¨èä½¿ç”¨<a href="#parsequery">ParseQuery</a>ã€‚</p> <h2 id="getquery"><a href="#getquery" aria-hidden="true" class="header-anchor">#</a> GetQuery</h2> <p><code>GetQuery(key string) (value string, exists bool)</code> åŒ<a href="#query">Query</a>, é¢å¤–è¿”å›æ˜¯å¦å­˜åœ¨ã€‚</p> <h2 id="getqueryarray"><a href="#getqueryarray" aria-hidden="true" class="header-anchor">#</a> GetQueryArray</h2> <p><code>GetQueryArray(key string) ((value []string, exists bool)</code> è·å–queryæŒ‡å®škeyçš„valueæ•°ç»„å’Œæ˜¯å¦å­˜åœ¨ã€‚</p> <h2 id="postform"><a href="#postform" aria-hidden="true" class="header-anchor">#</a> PostForm</h2> <p><code>PostForm(key string) (value string)</code> è·å–queryæŒ‡å®škeyçš„valueï¼Œè‹¥keyä¸å­˜åœ¨åˆ™è¿”å›&quot;&quot;ã€‚</p> <p>è‹¥formå¤æ‚æˆ–éœ€è¦ç±»å‹è½¬æ¢ï¼Œæ¨èä½¿ç”¨<a href="#parseform">ParseForm</a>ã€‚</p> <h2 id="param"><a href="#param" aria-hidden="true" class="header-anchor">#</a> Param</h2> <p><code>Param(key string) (value string)</code> è·å–è·¯ç”±ä¸­çš„å‚æ•°ï¼Œè‹¥ä¸å­˜åœ¨åˆ™è¿”å›&quot;&quot;ã€‚</p> <p>éœ€é…åˆ<a href="https://github.com/goa-go/router" target="_blank" rel="noopener noreferrer">router<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>æˆ–å…¶ä»–è·¯ç”±ä¸­é—´ä»¶ä½¿ç”¨:</p> <div class="language-go extra-class"><pre class="language-go"><code>r <span class="token operator">:=</span> router<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/example/:key&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>goa<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  key <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="parsejson"><a href="#parsejson" aria-hidden="true" class="header-anchor">#</a> ParseJSON</h2> <p><code>ParseJSON(pointer interface{}) error</code> è§£æè¯·æ±‚bodyä¸­çš„jsonï¼Œpointerå¿…é¡»ä¸ºæŒ‡é’ˆã€‚</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> obj <span class="token keyword">struct</span> <span class="token punctuation">{</span>
  Key <span class="token builtin">string</span> <span class="token string">`json:&quot;key&quot;`</span>
<span class="token punctuation">}</span>
p <span class="token operator">:=</span> <span class="token operator">&amp;</span>obj<span class="token punctuation">{</span><span class="token punctuation">}</span>
c<span class="token punctuation">.</span><span class="token function">ParseJSON</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token operator">...</span>
</code></pre></div><p>è¿˜å¯ä»¥é€šè¿‡goa.Mä½¿ç”¨ï¼Œå®é™…ä¸Šgoa.Måªæ˜¯<code>map[string]interface{}</code></p> <div class="language-go extra-class"><pre class="language-go"><code>c<span class="token punctuation">.</span><span class="token function">ParseJSON</span><span class="token punctuation">(</span>goa<span class="token punctuation">.</span>M<span class="token punctuation">{</span>
  <span class="token string">&quot;key&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="parsexml"><a href="#parsexml" aria-hidden="true" class="header-anchor">#</a> ParseXML</h2> <p><code>ParseXML(pointer interface{}) error</code> è§£æè¯·æ±‚bodyä¸­çš„xmlã€‚åŒ<a href="#parsejson">ParseJSON</a>ã€‚</p> <h2 id="parsestring"><a href="#parsestring" aria-hidden="true" class="header-anchor">#</a> ParseString</h2> <p><code>ParseString() (string, error)</code> è¯»å–è¯·æ±‚çš„bodyã€‚</p> <h2 id="parsequery"><a href="#parsequery" aria-hidden="true" class="header-anchor">#</a> ParseQuery</h2> <p><code>ParseQuery(pointer interface{}) error</code> è§£æQueryä¸ºç»“æ„ä½“ã€‚è‹¥éœ€è¦ä½¿ç”¨tagï¼Œtagåä¸ºqueryã€‚</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> Person <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Name    <span class="token builtin">string</span> <span class="token string">`query:&quot;name&quot;`</span>
  Age     <span class="token builtin">int</span>    <span class="token string">`query:&quot;age&quot;`</span>
  Married <span class="token builtin">bool</span>   <span class="token string">`query:&quot;-&quot;`</span> <span class="token comment">// &quot;-&quot;ä¸ºå¿½ç•¥</span>
<span class="token punctuation">}</span>

p <span class="token operator">:=</span> <span class="token operator">&amp;</span>Person<span class="token punctuation">{</span><span class="token punctuation">}</span>
c<span class="token punctuation">.</span><span class="token function">ParseQuery</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
</code></pre></div><h2 id="parseform"><a href="#parseform" aria-hidden="true" class="header-anchor">#</a> ParseForm</h2> <p><code>ParseForm(pointer interface{}) error</code> è§£æformä¸ºç»“æ„ä½“ï¼Œæ ‡ç­¾åä¸ºformã€‚åŒ<a href="#parsequery">ParseQuery</a>ã€‚</p> <h2 id="status"><a href="#status" aria-hidden="true" class="header-anchor">#</a> Status</h2> <p><code>Status(code int)</code> è®¾ç½®httpçŠ¶æ€ç ã€‚</p> <p>å½“æ²¡è®¾å®šçŠ¶æ€ç æ—¶ï¼Œè‹¥æ­£å¸¸å“åº”ï¼Œåˆ™ä¼šè‡ªåŠ¨è®¾å®šä¸º200ï¼Œå¦åˆ™é»˜è®¤ä¸º404ã€‚</p> <h2 id="getstatus"><a href="#getstatus" aria-hidden="true" class="header-anchor">#</a> GetStatus</h2> <p><code>GetStatus() (code int)</code> è·å–å½“å‰è®¾å®šçš„çŠ¶æ€ç ï¼Œä¸ä¸€å®šæ˜¯æœ€åå“åº”çš„çŠ¶æ€ç ï¼Œ
å†æ¬¡è®¾å®šçŠ¶æ€ç æˆ–è€… <code>c.Error(...)</code> éƒ½å¯ä»¥æ”¹å˜æœ€åå“åº”çš„çŠ¶æ€ç ã€‚</p> <h2 id="json"><a href="#json" aria-hidden="true" class="header-anchor">#</a> JSON</h2> <p><code>JSON(json interface{})</code> å“åº”jsonæ•°æ®ï¼Œä¼šè‡ªåŠ¨å“åº”200çŠ¶æ€ç ã€è‡ªåŠ¨è®¾ç½®httpå“åº”å¤´éƒ¨çš„<code>Content-Type</code>ï¼Œä»¥ä¸‹ä¸å†èµ˜è¿°ã€‚</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> obj <span class="token keyword">struct</span> <span class="token punctuation">{</span>
  Key <span class="token builtin">string</span> <span class="token string">`json:&quot;key&quot;`</span>
<span class="token punctuation">}</span>
p <span class="token operator">:=</span> Person<span class="token punctuation">{</span>
  Key<span class="token punctuation">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
</code></pre></div><h2 id="xml"><a href="#xml" aria-hidden="true" class="header-anchor">#</a> XML</h2> <p><code>XML(xml interface{})</code> å“åº”xmlæ•°æ®ã€‚</p> <h3 id="string"><a href="#string" aria-hidden="true" class="header-anchor">#</a> String</h3> <p><code>String(str string)</code> å“åº”å­—ç¬¦ä¸²ã€‚</p> <h2 id="html"><a href="#html" aria-hidden="true" class="header-anchor">#</a> HTML</h2> <p><code>HTML(html string)</code> å“åº”htmlã€‚</p> <h2 id="redirect"><a href="#redirect" aria-hidden="true" class="header-anchor">#</a> Redirect</h2> <p><code>Redirect(code int, url string)</code> é‡å®šå‘ï¼Œä¼šç»•è¿‡goaçš„å“åº”å¤„ç†ã€‚</p> <h2 id="setheader"><a href="#setheader" aria-hidden="true" class="header-anchor">#</a> SetHeader</h2> <p><code>SetHeader(key string, value string)</code> è®¾ç½®httpå“åº”å¤´éƒ¨ã€‚</p> <h2 id="error"><a href="#error" aria-hidden="true" class="header-anchor">#</a> Error</h2> <p><code>Error(code int, msg string)</code> æŠ›å‡ºhttpé”™è¯¯ï¼Œå¹¶ä¸”ä¼šè¢«goaæ•æ‰æ¥å“åº”é”™è¯¯ã€‚</p> <div class="language-go extra-class"><pre class="language-go"><code>c<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span><span class="token function">StatusText</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// åœ¨è¿™ä¹‹åçš„æ“ä½œéƒ½ä¼šè·³è¿‡</span>
c<span class="token punctuation">.</span><span class="token function">Status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token comment">// è¿™ä¸ä¼šèµ·ä½œç”¨ã€‚</span>
c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span> <span class="token comment">// è¿™ä¹Ÿä¸ä¼šèµ·ä½œç”¨ã€‚</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/goa-go/goa-go.github.io/edit/master/docs/zh/docs/context.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°: </span> <span class="time">9/12/2019, 7:21:21 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/zh/docs/goa.html" class="prev">
          åº”ç”¨ç¨‹åº(Goa)
        </a></span> <span class="next"><a href="/zh/docs/middleware.html">
          ä¸­é—´ä»¶
        </a>
        â†’
      </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.40856b5d.js" defer></script><script src="/assets/js/2.8674f6f0.js" defer></script><script src="/assets/js/13.26677b85.js" defer></script>
  </body>
</html>
