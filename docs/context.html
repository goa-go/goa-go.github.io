<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Context | Goa</title>
    <meta name="description" content="Middleware-based Web Framework For Golang">
    
    
    <link rel="preload" href="/assets/css/0.styles.bb8aa38e.css" as="style"><link rel="preload" href="/assets/js/app.c68b37c0.js" as="script"><link rel="preload" href="/assets/js/2.8674f6f0.js" as="script"><link rel="preload" href="/assets/js/7.bbb53069.js" as="script"><link rel="prefetch" href="/assets/js/10.2455997f.js"><link rel="prefetch" href="/assets/js/11.d8d276b2.js"><link rel="prefetch" href="/assets/js/12.85c017ed.js"><link rel="prefetch" href="/assets/js/13.26677b85.js"><link rel="prefetch" href="/assets/js/14.0237adbb.js"><link rel="prefetch" href="/assets/js/15.bc0f91d3.js"><link rel="prefetch" href="/assets/js/16.c16eeafe.js"><link rel="prefetch" href="/assets/js/17.3d40b24e.js"><link rel="prefetch" href="/assets/js/3.0d2f20d0.js"><link rel="prefetch" href="/assets/js/4.be9aced9.js"><link rel="prefetch" href="/assets/js/5.2be1bcaf.js"><link rel="prefetch" href="/assets/js/6.9de9f34f.js"><link rel="prefetch" href="/assets/js/8.26295da6.js"><link rel="prefetch" href="/assets/js/9.b5ac57cd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bb8aa38e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Goa</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/goa-go/goa/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/context.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/docs/context.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/goa-go/goa" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/goa-go/goa/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/context.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/docs/context.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/goa-go/goa" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/" class="sidebar-link">Introduction</a></li><li><a href="/docs/getting-started.html" class="sidebar-link">Quickstart</a></li><li><a href="/docs/goa.html" class="sidebar-link">Application(Goa)</a></li><li><a href="/docs/context.html" class="active sidebar-link">Context</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/context.html#field" class="sidebar-link">Field</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#next" class="sidebar-link">Next</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#set" class="sidebar-link">Set</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#get" class="sidebar-link">Get</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#query" class="sidebar-link">Query</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#getquery" class="sidebar-link">GetQuery</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#getqueryarray" class="sidebar-link">GetQueryArray</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#postform" class="sidebar-link">PostForm</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#param" class="sidebar-link">Param</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#parsejson" class="sidebar-link">ParseJSON</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#parsexml" class="sidebar-link">ParseXML</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#parsestring" class="sidebar-link">ParseString</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#parsequery" class="sidebar-link">ParseQuery</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#parseform" class="sidebar-link">ParseForm</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#status" class="sidebar-link">Status</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#getstatus" class="sidebar-link">GetStatus</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#json" class="sidebar-link">JSON</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#xml" class="sidebar-link">XML</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#html" class="sidebar-link">HTML</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#redirect" class="sidebar-link">Redirect</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#setheader" class="sidebar-link">SetHeader</a></li><li class="sidebar-sub-header"><a href="/docs/context.html#error" class="sidebar-link">Error</a></li></ul></li><li><a href="/docs/middleware.html" class="sidebar-link">Middlewares</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="context"><a href="#context" aria-hidden="true" class="header-anchor">#</a> Context</h1> <div class="tip custom-block"><p class="custom-block-title">🔖</p> <p>Context encapsulates the <code>*Request</code> and the <code>ResponseWriter</code> of net/http and its corresponding methods into a single object to facilitate the invocation of methods for  handling requests and responses.</p></div> <h2 id="field"><a href="#field" aria-hidden="true" class="header-anchor">#</a> Field</h2> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>Request</td> <td>*http.Request</td> <td>The *Request object of native net/http</td></tr> <tr><td>ResponseWriter</td> <td>http.ResponseWriter</td> <td>The *ResponseWriter object of native net/http</td></tr> <tr><td>Method</td> <td>string</td> <td>Method of http request method</td></tr> <tr><td>URL</td> <td>*url.URL</td> <td>URL object for http request</td></tr> <tr><td>Path</td> <td>string</td> <td>Path of http request</td></tr> <tr><td>Header</td> <td>http.Header</td> <td>Headed of http request</td></tr> <tr><td>Keys</td> <td>map[string]interface{}</td> <td>Mainly used for data transfer between middlewares, use it by <a href="#get">Get</a> and <a href="#set">Set</a></td></tr> <tr><td>Handled</td> <td>bool</td> <td>Whether to bypass goa's response handling</td></tr></tbody></table> <h2 id="next"><a href="#next" aria-hidden="true" class="header-anchor">#</a> Next</h2> <p><code>Next()</code>
Used to call the next middleware.</p> <p>Unlike koajs, the Next method is written in the Context object. The next () of koajs is actually dispatch(i+1). The advantage of doing so is that we can save the memory occupied by the transfer parameters of dispatch function, and make the code more efficient and concise.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// next() this method is removed in v0.4.0</span>
app<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>goa<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> next <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do sth</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// do sth</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// c.Next()</span>
app<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>goa<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do sth</span>
  c<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// do sth</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>When multiple middleware are bound in an application, <code>c.Next()</code> must be invoked except for the last middleware, otherwise Goa will only execute the first middleware.</p> <div class="language-go extra-class"><pre class="language-go"><code>app<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>goa<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>goa<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>goa<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token comment">//c.Next() 此处可以省略c.Next()</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="tip custom-block"><p>If this is your first exposure to middleware, view more about <a href="/docs/middleware.html">middleware</a>.</p></div> <h2 id="set"><a href="#set" aria-hidden="true" class="header-anchor">#</a> Set</h2> <p><code>Set(key string, value interface{})</code> Set Keys.</p> <h2 id="get"><a href="#get" aria-hidden="true" class="header-anchor">#</a> Get</h2> <p><code>Get(key string) (value interface{}, exists bool)</code> Get the specified Keys.</p> <div class="language-go extra-class"><pre class="language-go"><code>c<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span>
value <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="query"><a href="#query" aria-hidden="true" class="header-anchor">#</a> Query</h2> <p><code>Query(key string) (value string)</code> Get the value of the query specified key, and return &quot;&quot; if the key does not exist.</p> <p>If Query is complex or requires type conversion, it is recommended to use <a href="#parsequery">ParseQuery</a>.</p> <h2 id="getquery"><a href="#getquery" aria-hidden="true" class="header-anchor">#</a> GetQuery</h2> <p><code>GetQuery(key string) (value string, exists bool)</code> Same as <a href="#query">Query</a>, extra return whether it exists.</p> <h2 id="getqueryarray"><a href="#getqueryarray" aria-hidden="true" class="header-anchor">#</a> GetQueryArray</h2> <p><code>GetQueryArray(key string) ((value []string, exists bool)</code> Get the value array of the query specified key and whether it exists.</p> <h2 id="postform"><a href="#postform" aria-hidden="true" class="header-anchor">#</a> PostForm</h2> <p><code>PostForm(key string) (value string)</code> Get the value of the specified key in the form, and returns &quot;&quot; if the key does not exist.</p> <p>If form is complex or requires type conversion, it is recommended to use <a href="#parseform">ParseForm</a>.</p> <h2 id="param"><a href="#param" aria-hidden="true" class="header-anchor">#</a> Param</h2> <p><code>Param(key string) (value string)</code> Get the parameters in the router and returns &quot;&quot; if they do not exist.</p> <p>It should be used with <a href="https://github.com/goa-go/router" target="_blank" rel="noopener noreferrer">router<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or other routing middleware:</p> <div class="language-go extra-class"><pre class="language-go"><code>r <span class="token operator">:=</span> router<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/example/:key&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>goa<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  key <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="parsejson"><a href="#parsejson" aria-hidden="true" class="header-anchor">#</a> ParseJSON</h2> <p><code>ParseJSON(pointer interface{}) error</code> Parse JSON in the request body, the parameter must be a pointer.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> obj <span class="token keyword">struct</span> <span class="token punctuation">{</span>
  Key <span class="token builtin">string</span> <span class="token string">`json:&quot;key&quot;`</span>
<span class="token punctuation">}</span>
p <span class="token operator">:=</span> <span class="token operator">&amp;</span>obj<span class="token punctuation">{</span><span class="token punctuation">}</span>
c<span class="token punctuation">.</span><span class="token function">ParseJSON</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token operator">...</span>
</code></pre></div><p>You can also use <code>goa.M</code>, which is actually just <code>map[string]interface{}</code></p> <div class="language-go extra-class"><pre class="language-go"><code>c<span class="token punctuation">.</span><span class="token function">ParseJSON</span><span class="token punctuation">(</span>goa<span class="token punctuation">.</span>M<span class="token punctuation">{</span>
  <span class="token string">&quot;key&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="parsexml"><a href="#parsexml" aria-hidden="true" class="header-anchor">#</a> ParseXML</h2> <p><code>ParseXML(pointer interface{}) error</code> Parse XML in the request body, the parameter must be a pointer. Same as <a href="#parsejson">ParseJSON</a>。</p> <h2 id="parsestring"><a href="#parsestring" aria-hidden="true" class="header-anchor">#</a> ParseString</h2> <p><code>ParseString() (string, error)</code> Read the body of the request.。</p> <h2 id="parsequery"><a href="#parsequery" aria-hidden="true" class="header-anchor">#</a> ParseQuery</h2> <p><code>ParseQuery(pointer interface{}) error</code> Parse Query as a struct. If you need to use tags, the tag name is query.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> Person <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Name    <span class="token builtin">string</span> <span class="token string">`query:&quot;name&quot;`</span>
  Age     <span class="token builtin">int</span>    <span class="token string">`query:&quot;age&quot;`</span>
  Married <span class="token builtin">bool</span>   <span class="token string">`query:&quot;-&quot;`</span> <span class="token comment">// &quot;-&quot;为忽略</span>
<span class="token punctuation">}</span>

p <span class="token operator">:=</span> <span class="token operator">&amp;</span>Person<span class="token punctuation">{</span><span class="token punctuation">}</span>
c<span class="token punctuation">.</span><span class="token function">ParseQuery</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
</code></pre></div><h2 id="parseform"><a href="#parseform" aria-hidden="true" class="header-anchor">#</a> ParseForm</h2> <p><code>ParseForm(pointer interface{}) error</code> Parse Query as a struct. If you need to use tags, the tag name is query. Same as <a href="#parsequery">ParseQuery</a>。</p> <h2 id="status"><a href="#status" aria-hidden="true" class="header-anchor">#</a> Status</h2> <p><code>Status(code int)</code> Set the HTTP status code.</p> <p>When the status code is not set, if the normal response is set to 200 automatically, otherwise the default is 404.</p> <h2 id="getstatus"><a href="#getstatus" aria-hidden="true" class="header-anchor">#</a> GetStatus</h2> <p><code>GetStatus() (code int)</code> Get the current set state code is not necessarily the final response state code.</p> <p>Set the state code again or <code>c.Error(...)</code> can change the state code of the final response.</p> <h2 id="json"><a href="#json" aria-hidden="true" class="header-anchor">#</a> JSON</h2> <p><code>JSON(json interface{})</code> Respond JSON data, it automatically sets status code as 200 and automatically sets the <code>Content-Type</code> of the HTTP response header, the following will not be repeated.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> obj <span class="token keyword">struct</span> <span class="token punctuation">{</span>
  Key <span class="token builtin">string</span> <span class="token string">`json:&quot;key&quot;`</span>
<span class="token punctuation">}</span>
p <span class="token operator">:=</span> Person<span class="token punctuation">{</span>
  Key<span class="token punctuation">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
</code></pre></div><h2 id="xml"><a href="#xml" aria-hidden="true" class="header-anchor">#</a> XML</h2> <p><code>XML(xml interface{})</code> Respond XML data.</p> <h3 id="string"><a href="#string" aria-hidden="true" class="header-anchor">#</a> String</h3> <p><code>String(str string)</code> Respond string。</p> <h2 id="html"><a href="#html" aria-hidden="true" class="header-anchor">#</a> HTML</h2> <p><code>HTML(html string)</code> Respond html。</p> <h2 id="redirect"><a href="#redirect" aria-hidden="true" class="header-anchor">#</a> Redirect</h2> <p><code>Redirect(code int, url string)</code> Redirect, and bypasses goa's response handling.</p> <h2 id="setheader"><a href="#setheader" aria-hidden="true" class="header-anchor">#</a> SetHeader</h2> <p><code>SetHeader(key string, value string)</code> Set the HTTP response header.</p> <h2 id="error"><a href="#error" aria-hidden="true" class="header-anchor">#</a> Error</h2> <p><code>Error(code int, msg string)</code> An HTTP error is thrown and captured by Goa in response to the error.</p> <div class="language-go extra-class"><pre class="language-go"><code>c<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span><span class="token function">StatusText</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// All subsequent operations will be skipped.</span>
c<span class="token punctuation">.</span><span class="token function">Status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token comment">// It doesn't work.</span>
c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span> <span class="token comment">// It doesn't work, too.</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/goa-go/docs/edit/master/docs/docs/context.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/12/2019, 7:21:21 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/goa.html" class="prev">
          Application(Goa)
        </a></span> <span class="next"><a href="/docs/middleware.html">
          Middlewares
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c68b37c0.js" defer></script><script src="/assets/js/2.8674f6f0.js" defer></script><script src="/assets/js/7.bbb53069.js" defer></script>
  </body>
</html>
